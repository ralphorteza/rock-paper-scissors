<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>rock, paper, scissors!</title>
    </head>

    <body>
        <script>

            /* Stores current scores for user and computer */
            function scores(str, arr) {
                if (str == "computer") { arr[0] = arr[0] + 1; }
                if (str == "user") { arr[1] = arr[1] + 1; }
                
                return arr;
            }

            function game() {
                let arr = [0,0];
                const MAX_GAMES = 5;
                let str = "";
               for (let i=1; i<=MAX_GAMES; i++) {
                   
                   console.log("round " + i);
                   let player = userPlay();
                   let computer = computerPlay();
                    str = playRound(player, computer);
                    arr = scores(str, arr);
               }

               if ( arr[0] === arr[1]) {
                    console.log("The game is a draw.");
               } else if (arr[0] != arr[1] && arr[0] > arr[1]) {
                   console.log("computer wins with " +arr[0]+ "/5 games.");
               } else {
                   console.log("user wins with " +arr[1]+ "/5 games.");
               }
            }
            /* Computer to choose hand by assigning number values to
             * each hand. rock == 0, paper == 1, scissors == 2. */
            function computerPlay() {
                let randomNumber = Math.floor(Math.random()*3);
                //console.log(randomNumber);
                let choice = "";

                if (randomNumber == 0) {
                    choice = "rock";
                } else if (randomNumber == 1) {
                    choice = "paper";
                } else {
                    choice = "scissors";
                }

                //console.log(choice);
                return choice;
            }

            function userPlay() {
                let input = prompt("Please choose your hand: ");
                input = input.toLowerCase();

                while (input != "paper" && input != "scissors" && input != "rock") {
                    input = prompt("Not a valide hand. Choose from rock, paper, or scissors: ");
                    input = input.toLowerCase();
                }

                return input;
            }

            // play round
            function playRound(playerSelection, computerSelection) {

                let playerWins = "player";
                let computerWins = "computer";
                let draw = "draw";
                let results = "";

                console.log("player plays: " + playerSelection);
                console.log("computer plays: " + computerSelection);
            

                if (playerSelection === "rock" && computerSelection === "paper") {
                    //computer wins
                    console.log("computer wins round");
                   results += computerWins
                } else if (playerSelection === "rock" && computerSelection === "scissors") {
                    // player wins
                    console.log("player wins round");
                    results = playerWins;
                } else if (playerSelection === "paper" && computerSelection === "scissors") {
                    // player wins
                    console.log("player wins round");
                    results = playerWins;
                } else if (playerSelection === "paper" && computerSelection === "rock") {
                    //computer wins
                    console.log("computer wins round");
                    results = computerWins;
                } else if (playerSelection === "scissors" && computerSelection === "rock") {
                    // computer wins
                    console.log("computer wins round");
                    results = computerWins;
                } else if (playerSelection === "scissors" && computerSelection === "paper") {
                    // player wins
                    console.log("player wins round");
                    results = playerWins;
                } else {
                    // draw
                    console.log("draw");
                    results = draw;
                }
                
          
                return results
            }

            const playerSelection = userPlay();
            const computerSelection = computerPlay();
            /* console.log(computerSelection); */
            /* console.log(playRound(playerSelection, computerSelection)); */
            /* console.log(game()); */
            game();

        </script>
    </body>
</html>   